//#include<unistd.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include <stdint.h>
#include <signal.h>
#include <math.h>

#include "interpolate.h"
//#include "time_cst.h"

static const float kSmpFrq = 12800;
int sv_buf_[2560];
int sv_out_[2560];

int y[] = {82752,78416,78081,82718,87730,87779,82720,77826,77994,82507,86163,85152,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65240,63254,61673,60734,59492,57381,55300,54474,54539,53643,50753,47232,45382,45586,45733,43796,40342,37715,36944,36462,34363,31160,29206,29341,29298,26360,21177,17607,18234,20838,20472,15115,8276,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3930,-7609,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29475,-32221,-36197,-38939,-39595,-39857,-41677,-44746,-47006,-47537,-47932,-50211,-53936,-56478,-56337,-55300,-56454,-60355,-64207,-65205,-63942,-63607,-66005,-69433,-71035,-70510,-70365,-72455,-75401,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79704,-83998,-85666,-83687,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66252,-63711,-63746,-65013,-64351,-60780,-56845,-55552,-56715,-57256,-55000,-51171,-48627,-48272,-48209,-46451,-43489,-41419,-40985,-40525,-38194,-34495,-31787,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5687,6906,4127,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28358,31801,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52889,53982,53830,54507,56715,59236,60815,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81194,85070,86089,82752,78416,78082,82718,87730,87779,82720,77826,77994,82507,86163,85152,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65240,63254,61673,60734,59492,57381,55300,54474,54539,53643,50753,47232,45382,45586,45733,43796,40342,37715,36944,36462,34363,31160,29206,29341,29298,26360,21177,17607,18234,20838,20472,15115,8276,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3930,-7609,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29475,-32221,-36197,-38939,-39595,-39857,-41677,-44746,-47006,-47537,-47932,-50211,-53936,-56478,-56337,-55300,-56454,-60355,-64207,-65205,-63942,-63607,-66006,-69433,-71035,-70510,-70365,-72455,-75401,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79704,-83998,-85666,-83687,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66252,-63711,-63746,-65013,-64351,-60780,-56845,-55552,-56715,-57256,-55000,-51171,-48627,-48272,-48209,-46451,-43488,-41419,-40985,-40525,-38194,-34495,-31787,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5687,6906,4127,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28359,31801,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52889,53982,53830,54507,56715,59236,60815,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81194,85070,86089,82752,78416,78082,82718,87730,87779,82720,77826,77994,82507,86163,85152,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65240,63254,61673,60734,59492,57381,55300,54474,54539,53643,50753,47232,45382,45586,45733,43796,40342,37715,36944,36462,34363,31160,29206,29341,29298,26360,21177,17607,18234,20838,20472,15115,8276,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3930,-7609,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29475,-32221,-36197,-38939,-39595,-39857,-41677,-44746,-47006,-47537,-47932,-50211,-53936,-56478,-56337,-55300,-56454,-60355,-64207,-65205,-63942,-63607,-66006,-69433,-71035,-70510,-70365,-72455,-75401,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79704,-83999,-85666,-83687,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66252,-63711,-63746,-65013,-64351,-60780,-56845,-55552,-56715,-57256,-55000,-51170,-48627,-48272,-48209,-46451,-43488,-41419,-40985,-40525,-38194,-34495,-31787,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5687,6906,4127,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28359,31802,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52889,53982,53830,54507,56715,59236,60815,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81194,85070,86089,82752,78416,78082,82718,87730,87779,82720,77826,77994,82507,86163,85152,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65240,63254,61673,60734,59492,57381,55300,54474,54539,53643,50753,47232,45382,45586,45733,43796,40342,37715,36944,36462,34363,31160,29206,29341,29298,26360,21177,17607,18234,20838,20472,15115,8276,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3930,-7609,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29475,-32221,-36197,-38939,-39595,-39857,-41677,-44746,-47006,-47537,-47932,-50211,-53936,-56478,-56337,-55300,-56454,-60355,-64207,-65205,-63942,-63607,-66006,-69433,-71035,-70510,-70365,-72455,-75401,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79704,-83999,-85666,-83687,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66252,-63711,-63746,-65013,-64351,-60780,-56845,-55552,-56715,-57256,-55000,-51170,-48627,-48272,-48209,-46451,-43488,-41419,-40985,-40525,-38194,-34495,-31787,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5687,6906,4127,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28359,31802,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52889,53982,53830,54507,56715,59236,60815,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81194,85070,86089,82752,78416,78082,82718,87730,87779,82720,77826,77994,82507,86163,85152,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65240,63254,61673,60734,59492,57381,55300,54473,54539,53643,50753,47232,45382,45586,45733,43796,40342,37715,36944,36462,34363,31160,29206,29341,29298,26360,21177,17607,18234,20838,20472,15115,8276,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3930,-7610,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29475,-32221,-36197,-38939,-39595,-39857,-41677,-44746,-47006,-47537,-47932,-50211,-53936,-56478,-56337,-55300,-56454,-60355,-64208,-65205,-63942,-63607,-66006,-69433,-71035,-70510,-70365,-72455,-75401,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79704,-83999,-85666,-83687,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66252,-63711,-63746,-65013,-64351,-60780,-56845,-55552,-56715,-57256,-54999,-51170,-48627,-48272,-48209,-46451,-43488,-41419,-40985,-40525,-38194,-34494,-31787,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5687,6906,4127,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28359,31802,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52890,53982,53830,54507,56715,59236,60815,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81194,85070,86089,82752,78416,78082,82718,87730,87779,82720,77826,77994,82507,86163,85152,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65240,63254,61673,60734,59492,57381,55300,54473,54539,53643,50753,47232,45382,45586,45733,43796,40342,37715,36944,36462,34363,31160,29206,29341,29298,26360,21176,17607,18234,20838,20472,15115,8276,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3930,-7610,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29475,-32221,-36198,-38939,-39595,-39857,-41677,-44746,-47006,-47537,-47932,-50211,-53936,-56478,-56337,-55300,-56454,-60355,-64208,-65205,-63942,-63607,-66006,-69433,-71035,-70510,-70365,-72455,-75401,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79705,-83999,-85666,-83686,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66252,-63711,-63746,-65013,-64351,-60780,-56845,-55552,-56715,-57256,-54999,-51170,-48627,-48272,-48209,-46451,-43488,-41419,-40985,-40525,-38194,-34494,-31786,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5688,6906,4127,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28359,31802,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52890,53982,53830,54507,56715,59236,60816,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81194,85070,86089,82752,78416,78082,82718,87730,87779,82720,77826,77994,82507,86163,85152,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65240,63254,61673,60734,59492,57381,55300,54473,54539,53643,50753,47232,45382,45586,45733,43795,40342,37715,36944,36462,34363,31160,29206,29341,29298,26360,21176,17607,18234,20838,20472,15115,8276,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3930,-7610,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29476,-32221,-36198,-38939,-39595,-39857,-41677,-44747,-47007,-47537,-47932,-50211,-53936,-56478,-56337,-55300,-56454,-60355,-64208,-65205,-63942,-63607,-66006,-69433,-71035,-70510,-70365,-72455,-75401,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79705,-83999,-85666,-83686,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66252,-63711,-63746,-65013,-64351,-60780,-56845,-55552,-56715,-57256,-54999,-51170,-48627,-48272,-48209,-46451,-43488,-41419,-40985,-40525,-38194,-34494,-31786,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5688,6906,4127,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28359,31802,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52890,53982,53830,54507,56715,59236,60816,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81194,85070,86089,82752,78416,78082,82718,87730,87779,82720,77826,77994,82507,86163,85152,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65240,63254,61673,60734,59492,57381,55300,54473,54539,53643,50753,47232,45382,45586,45733,43795,40342,37715,36944,36462,34363,31160,29206,29341,29298,26360,21176,17607,18234,20838,20472,15115,8276,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3930,-7610,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29476,-32222,-36198,-38939,-39595,-39857,-41677,-44747,-47007,-47537,-47932,-50211,-53937,-56478,-56337,-55300,-56454,-60355,-64208,-65205,-63942,-63607,-66006,-69433,-71035,-70510,-70365,-72455,-75401,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79705,-83999,-85666,-83686,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66251,-63711,-63746,-65013,-64351,-60779,-56845,-55552,-56715,-57256,-54999,-51170,-48627,-48272,-48209,-46451,-43488,-41419,-40985,-40525,-38194,-34494,-31786,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5688,6906,4126,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28359,31802,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52890,53982,53830,54507,56715,59236,60816,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81195,85070,86089,82752,78416,78082,82718,87730,87779,82720,77826,77994,82507,86163,85151,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65239,63254,61673,60734,59492,57381,55300,54473,54539,53643,50753,47232,45382,45586,45733,43795,40342,37715,36944,36462,34362,31160,29206,29342,29298,26360,21176,17607,18234,20838,20472,15115,8275,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3931,-7610,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29476,-32222,-36198,-38939,-39595,-39857,-41677,-44747,-47007,-47537,-47932,-50211,-53937,-56478,-56337,-55300,-56454,-60355,-64208,-65205,-63942,-63607,-66006,-69433,-71035,-70510,-70365,-72455,-75401,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79705,-83999,-85666,-83686,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66251,-63711,-63746,-65013,-64351,-60779,-56844,-55552,-56715,-57256,-54999,-51170,-48627,-48272,-48209,-46451,-43488,-41419,-40985,-40525,-38194,-34494,-31786,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5688,6906,4126,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28359,31802,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52890,53982,53830,54507,56715,59236,60816,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81195,85070,86089,82752,78416,78082,82718,87730,87779,82720,77826,77995,82507,86163,85151,80841,77600,77799,79832,80737,79597,77779,76591,75828,74761,73592,73121,73254,72766,70857,68363,66837,66621,66476,65239,63254,61673,60734,59492,57381,55300,54473,54539,53643,50753,47232,45382,45586,45733,43795,40342,37715,36944,36462,34362,31160,29206,29342,29298,26360,21176,17607,18234,20838,20472,15115,8275,5279,7361,10324,9198,3502,-2639,-5181,-4115,-2753,-3931,-7610,-11807,-14849,-16368,-16849,-17132,-18294,-21122,-25116,-28428,-29537,-29090,-29476,-32222,-36198,-38939,-39595,-39857,-41677,-44747,-47007,-47537,-47932,-50211,-53937,-56478,-56337,-55300,-56454,-60356,-64208,-65205,-63942,-63607,-66006,-69433,-71035,-70510,-70365,-72455,-75402,-76352,-74862,-73794,-75852,-80009,-82413,-80874,-77562,-76659,-79705,-83999,-85666,-83686,-80537,-79326,-80910,-83714,-85573,-85330,-83227,-80617,-79368,-80642,-83533,-85245,-83534,-79322,-76266,-77077,-80415,-82134,-79811,-75423,-73009,-74029,-75918,-75420,-72477,-69944,-69732,-70428,-69353,-66251,-63711,-63747,-65013,-64351,-60779,-56844,-55552,-56715,-57256,-54999,-51170,-48627,-48272,-48209,-46451,-43488,-41419,-40985,-40525,-38194,-34494,-31786,-31392,-31938,-30951,-27650,-23641,-20992,-20202,-20167,-19545,-17668,-14518,-10678,-7494,-6451,-7496,-8202,-5659,190,5688,6906,4126,2065,4979,11900,17542,18089,15316,14378,17971,23659,27148,27260,26718,28359,31802,34520,35420,36116,38471,41921,44193,44377,44242,46044,49691,52890,53982,53830,54507,56715,59236,60816,61735,63079,64982,66434,66870,67189,68658,71153,73175,73706,73434,73776,75094,76527,77461,78361,79694,80690,80157,78592,78412,81195,85070,86089};

/*!
    Input:  type -- 0=linear, 1=quadratic, 2=cubic
*/
void Test(int type)
{
    Interpolate itrplt(3664);
    
    int x[2048];
    itrplt.Splines(x, 2048, y, 2560, 0, type, NULL);

    printf("\n");
    for (int i=0; i<2048; i++) {
        printf("%d ", x[i]);
    }
    printf("\n");
}

int main (int argc, char *argv[])
{
    if (argc < 2) {
        printf("Usage: %s [0|1|2]\n", argv[0]);
        exit(1);
    }

    int num;
    sscanf(argv[1], "%d", &num);
    Test(num);

}



